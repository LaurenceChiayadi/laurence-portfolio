import { motion, useAnimation } from "framer-motion";
import { useEffect } from "react";

const blobs = [
  "M48.3,-75.6C62.8,-65.7,75.1,-52.8,80.8,-37.7C86.5,-22.5,85.6,-5.2,81.2,10.3C76.8,25.7,68.8,39.2,59.1,52.3C49.4,65.4,38,78,23.5,84.2C8.9,90.4,-8.7,90.2,-23.6,84.1C-38.4,78,-50.4,66,-58.8,52.9C-67.2,39.7,-72,25.4,-73.8,10.8C-75.5,-3.8,-74.3,-18.6,-68.4,-31.1C-62.5,-43.6,-51.8,-53.8,-39.6,-64.8C-27.4,-75.7,-13.7,-87.4,1.6,-89.8C16.8,-92.2,33.7,-85.4,48.3,-75.6Z",
  "M46.6,-75.3C58.1,-65.2,63.5,-48.3,68.4,-32.7C73.2,-17.1,77.4,-2.7,77,12.2C76.6,27,71.5,42.2,62.4,55.7C53.3,69.1,40.2,80.7,25.2,84.6C10.1,88.4,-6.8,84.6,-23.2,79.6C-39.7,74.6,-55.6,68.3,-65.8,56.9C-76,45.4,-80.5,28.8,-81.9,12.4C-83.4,-4.1,-81.9,-20.4,-75.1,-33.8C-68.2,-47.2,-56,-57.7,-42.6,-67C-29.2,-76.2,-14.6,-84.4,1.5,-86.7C17.6,-89,35.1,-85.5,46.6,-75.3Z",
  "M46.1,-71.8C59.3,-63.4,69,-49.7,73.9,-34.9C78.8,-20.2,78.8,-4.4,76.7,11.1C74.5,26.6,70.1,41.8,61.4,54.9C52.7,68,39.6,79.1,24.6,83.4C9.5,87.7,-7.4,85.2,-22.7,79.6C-38,74.1,-51.7,65.4,-63.9,53.9C-76.1,42.5,-86.9,28.2,-89.9,12.4C-93,-3.4,-88.4,-20.8,-79.1,-34C-69.8,-47.2,-55.8,-56.1,-41.8,-64.2C-27.9,-72.3,-13.9,-79.5,1.3,-81.5C16.5,-83.5,33,-80.3,46.1,-71.8Z",
  "M45.7,-70C59.9,-62,72.5,-50.4,81,-35.8C89.5,-21.2,93.8,-3.6,91.9,13.6C90.1,30.8,82.2,47.6,69.8,58.6C57.4,69.7,40.5,75.1,24.6,76.4C8.7,77.7,-6.3,75,-22.1,71.9C-38,68.9,-54.8,65.5,-63.7,55.2C-72.5,44.9,-73.5,27.8,-73,12.2C-72.5,-3.3,-70.7,-17.4,-65.8,-30.9C-60.9,-44.3,-53,-57.3,-41.5,-66.6C-30.1,-75.9,-15,-81.5,0.4,-82.1C15.7,-82.6,31.5,-78.1,45.7,-70Z",
  "M47.8,-74.6C61.7,-65.6,72.3,-51.7,80.1,-36.1C87.8,-20.6,92.7,-3.3,91.3,13.8C90,30.9,82.3,47.8,70.2,59.4C58,71.1,41.3,77.5,25.2,79.1C9.1,80.8,-6.4,77.8,-21.5,73.3C-36.6,68.9,-51.3,63,-63.3,52.8C-75.3,42.6,-84.6,28.1,-86.7,12.5C-88.8,-3,-83.8,-19.5,-75.8,-33.6C-67.7,-47.7,-56.8,-59.5,-43.6,-68.9C-30.5,-78.3,-15.3,-85.3,0.9,-86.7C17,-88,34,-83.7,47.8,-74.6Z",
  "M41.9,-66.5C53.7,-57.5,62.5,-45,69.4,-31.3C76.3,-17.6,81.2,-2.6,80.4,12.5C79.7,27.5,73.2,42.7,63.3,55.7C53.4,68.8,40,79.8,24.6,84.7C9.2,89.7,-8.2,88.5,-23.4,82.7C-38.6,76.9,-51.5,66.3,-63.3,54.1C-75.1,41.8,-85.8,27.8,-88,12.6C-90.3,-2.6,-84.2,-19.1,-76.7,-34.8C-69.3,-50.6,-60.5,-65.5,-47.4,-74C-34.4,-82.5,-17.2,-84.7,-1.1,-83C15,-81.2,30,-75.6,41.9,-66.5Z",
];

export default function Blob() {
  const controls = useAnimation();

  useEffect(() => {
    let index = 0;

    const animateBlob = async () => {
      while (true) {
        const nextIndex = (index + 1) % blobs.length;
        await controls.start({
          d: blobs[nextIndex],
          transition: {
            duration: 4,
            ease: "easeInOut",
          },
        });
        index = nextIndex;
      }
    };

    animateBlob();
  }, [controls]);

  return (
    <svg className="absolute w-0 h-0">
      <clipPath id="blobClip" clipPathUnits="objectBoundingBox">
        <motion.path
          d={blobs[0]}
          animate={controls}
          transform="scale(0.005) translate(100 100)"
        />
      </clipPath>
    </svg>
  );
}
